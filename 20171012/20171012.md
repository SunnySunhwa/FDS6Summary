# 실행 컨텍스트와 자바스크립트의 동작 원리
  * 잘 알면 디버깅을 잘 할 수 있다.
## 실행 컨텍스트
  * 실행 가능한 코드를 형상화하고 구분하는 추상적 개념(ECMAScript)
    * 실행 가능한 코드: 전역코드와 함수코드(Eval함수 코드는 사용 금지)
  * 코드 실행을 위한 정보
    * 변수: 전역변수, 지역변수, 매개변수, 객체의 프로퍼티.
    * 함수 선언: 함수명(무명함수 제외)과 함수 자체  
    * 변수의 유효범위(Scope)
    * this: 이 this가 가리키는 것이 무엇인가?
 * 실행 컨텍스트 스택(콜 스택)과 코드 실행 순서
   * 실행 컨텍스트(EC)가 쌓이는 메모리상의 공간
   * 전전 실행 컨텍스트는 브라우저를 종료할 때까지 계속 메모리 공간 점유

## 실행 컨텍스트의 3가지 객체
  1. Variable Object(변수객체)
  * 변수, 매개변수(parameter), 인수정보(arguments), 함수선언(변수로 취급되는 함수표현식은 제외)을 담고 있음.
  * 전역 컨텍스트에서 VO는 전역객체(GO/ window, global)를 가르키며 그 안에 세팅해 놓는다. (전역 객체는 전역 컨텍스트 이전인, 브라우저를 켜는 순간 태초부터 존재했다.)
    * 전역 변수는 왜 전역 객체의 프로퍼티인가에 대한 이야기
    * 함수 컨텍스트에서 VO는 활성객체(AO, Activation Object)를 가리킨다.

  2. Scope Chain
  * 다이렉트로 가리키는게 아니다. 스코프가 여러 개가 있을 수 있기 때문에 배열처럼 리스트화된 단계를 거친다. 순서가 있어서 0인 자신의 AO를 보고 그래도 없으면 두번째인 1, 상위(본 예제에서는 전역)인 GO를 본다.
   * 즉, 그 중간 단계는 스코프 판단을 위한 단계

  3. this value
  * this 프로퍼티에는 this 값이 할당된다. this에 할당되는 값은 함수 호출 패턴에 의해 결정된다.

## 실행 컨텍스트의 생성 과정
  ```javascript
  // 판단 예제

  var x = 'xxx';

  function foo () {
    var y = 'yyy';

    function bar () {
      var z = 'zzz';
      console.log(x + y + z);
    }
    bar();
  }
  foo();
  ```
  
  * 전역 코드에의 진입
    * 이 상태는 전역 코드 실행 전 단계
    * 초기 상태의 전역객체는 빌트인 객체와 BOM, DOM 등이 있다.
    1. 스코프 체인의 생성과 초기화
    2. Variable Instantiation(변수 객체화) 실행
        1. 함수 foo의 선언 처리 : 함수 호이스팅의 원리(scope판단을 위해 이미 함수의 내용을 다 갖고 있음)
        2.  변수 x의 선언 처리 : 변수 호이스팅의 원리(선언, 초기화만 수행)
    3. this value 결정

  * 전역 코드의 실행
    1. 변수 값의 할당 : 전역변수 x에 문자열 ‘xxx’를 할당
    2. 함수 foo의 실행 : `전역 코드에의 진입`의 경우와 마찬가지로 다음 3단계 거침
        1. 스코프 체인의 생성과 초기화
        2. Variable Instantiation 실행
        3.  this value 결정

  * foo 함수 코드의 실행
    * `전역 코드의 실행`과 마찬가지 과정을 반복한다.
    1. 변수 값의 할당: 지역변수 y에 문자열 'yyy'를 할당
    2. 함수 bar의 실행: 이 단계에서 `console.log(x + y + z);`의 실행 결과는 xxxyyyzzz가 된다.
